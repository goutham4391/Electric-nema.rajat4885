(function(n){n(document).ready(function(){function f(t){function o(n){n||(n=window.event);var t=null;t=n.keyCode?n.keyCode:n.charCode;t==13&&u(n)}function s(t){var f=t.Suggestions,r,u;i.autocomplete("option","source",f);i.autocomplete("search",i.val().trim());r=n(".search-input-container.global").width();u=n(".ui-autocomplete");u.css("width",r)}function h(r){if(r.keyCode!=38&&r.keyCode!=40&&r.keyCode!=27){n(n("#searchTextBoxHeaderNavigationId").val()).siblings(".search-autocomplete").removeClass("active");var u={},f=i.val().trim();f.length>=t.minSuggestionLength&&(u.IndexName=t.indexCatalogue,u.SuggestionFields=t.suggestionFields,u.Text=f,u.Language=t.language,n.ajax({type:"GET",url:t.suggestionsRoute,dataType:"json",data:u,success:s}))}}function u(n){n||(n=window.event);n.stopPropagation?n.cancelBubble=!0:n.stopPropagation();n.preventDefault?n.preventDefault():n.returnValue=!1;var r=i.val();r&&r.trim()&&t.indexCatalogue&&(c(),window.location=f())}function f(){var u=i.val().trim();t.resultsUrl=n("input#resultsHeaderNavigationUrl").val();var f=t.resultsUrl.indexOf("?")==-1?"?":"&",e=f+"&searchQuery="+encodeURIComponent(u),o="&wordsMode="+t.wordsMode,s=t.resultsUrl+e+o,r=n("div.global ul.search-menu").attr("class");return r=r.split(" ").pop(),storeRecentSearch(u,r),s}function c(){window.DataIntelligenceSubmitScript&&DataIntelligenceSubmitScript._client.sentenceClient.writeSentence({predicate:"Search for",object:i.val(),objectMetadata:[{K:"PageUrl",V:location.href}]})}var i=n(t.searchTextBoxSelector),e=n(t.searchButtonSelector),r;if(e.click(u),i.keypress(o),!t.disableSuggestions){i.keyup(h);try{i.autocomplete({source:[],messages:{noResults:"",results:function(){}},select:function(n,t){i.val(t.item.value);u(n)}}).autocomplete("widget").addClass("sf-autocomplete")}catch(l){}}r=n("div.global ul.search-menu").attr("class");r=r.split(" ").pop();retrieveRecentSearch(r);n("div.search-input-container.global ul.search-menu."+r+" li.item a").click(function(){n("#search-input-field").val(n(this).html());f();n("div.global button.button").click()})}var r,i,t,u;for(n.urlParam("searchQuery")!=null&&n.urlParam("searchQuery")!=""&&n.urlParam("indexCatalogue")==null&&n(".global>input.search-input").val(decodeURIComponent(n.urlParam("searchQuery"))),r=n('[data-sf-role="searchTextBoxHeaderNavigationId"]'),i=0;i<r.length;i++)t=n(r[i]),u={resultsUrl:t.siblings('[data-sf-role="resultsUrl"]').first().val(),indexCatalogue:t.siblings('[data-sf-role="indexCatalogue"]').first().val(),wordsMode:t.siblings('[data-sf-role="wordsMode"]').first().val(),disableSuggestions:n.parseJSON(t.siblings('[data-sf-role="disableSuggestions"]').first().val()),minSuggestionLength:t.siblings('[data-sf-role="minSuggestionLength"]').first().val(),suggestionFields:t.siblings('[data-sf-role="suggestionFields"]').first().val(),language:t.siblings('[data-sf-role="language"]').first().val(),suggestionsRoute:t.siblings('[data-sf-role="suggestionsRoute"]').first().val(),searchTextBoxSelector:t.val(),searchButtonSelector:t.siblings('[data-sf-role="searchButtonHeaderNavigationId"]').first().val()},f(u)});n.urlParam=function(n){var t=new RegExp("[?&]"+n.toLowerCase()+"=([^&#]*)").exec(window.location.href.toLowerCase());return t==null?null:decodeURI(t[1])||0}})(jQuery)